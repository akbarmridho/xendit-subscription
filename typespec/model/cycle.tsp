model Cycle {
    @doc("Xendit-generated recurring cycle ID, with prefix recy-xxx")
    id: string;

    @doc("Xendit-generated recurring plan ID, with prefix repl-xxx")
    plan_id: string;

    @doc("Merchant-provided identifier, inherited from the recurring plan object.")
    @minLength(1)
    @maxLength(64)
    reference_id: string;

    @doc("Xendit-generated customer ID, inherited from the recurring plan object, with prefix cust-xxx")
    customer_id: string;

    @doc("The type of recurring action requested, inherited from the recurring plan object")
    recurring_action: "PAYMENT";

    @doc("The type of recurring cycle")
    type: "SCHEDULED" | "IMMEDIATE";

    @doc("A numbering that tracks the order of cycle objects generated by a recurring plan.")
    @minValue(1)
    cycle_number: int32;

    @doc("Number of times the recurring action has been attempted for this recurring cycle object")
    attempt_count: int32;

    @doc("Detailed information of each action attempts")
    attempt_details: AttemptDetail[];

    @doc("Status of recurring cycle")
    status:
        | "SCHEDULED"
        | "PENDING"
        | "RETRYING"
        | "FAILED"
        | "SUCCEEDED"
        | "CANCELLED";

    @doc("ISO 8601 Timestamp for the upcoming action attempt for the recurring cycle")
    scheduled_timestamp: string;

    @doc("ISO 8601 Timestamp for recurring cycle creation. Timezone UTC+0")
    created: string;

    @doc("ISO 8601 Timestamp for latest cycle object update. Timezone UTC+0")
    updated: string;

    @doc("ISO 4217 currency code of recurring plan")
    currency: "IDR" | "PHP";

    @doc("Amount that recurring plan will charge to end users. Min - IDR 1,000 (Indonesia) / PHP 50 (Philippines)")
    amount: int32;
}

model AttemptDetail {
    @doc("A numbering that tracks the order of cycle attempts")
    attempt_number: int32;

    @doc("ISO 8601 Timestamp for attempted actions. Timezone UTC+0")
    created: string;

    @doc("ID of associated action (e.g. payment ID)")
    action_id: string;

    @doc("Status of action")
    status: "SUCCEEDED" | "FAILED" | "PENDING";

    @doc("Reason for failure of recurring action in this attempt")
    failure_code?: string;

    @doc("ISO 8601 Estimated timestamp for next retry. Timezone UTC+0")
    next_retry_timestamp?: string;
}
